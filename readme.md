# Scolteh Test Task

Это тестовое задание представляет собой API-сервис для получения и экспорта погодных данных, работающий на основе FastAPI. Сервис позволяет получать последние погодные данные, экспортировать их и просматривать последние записи.

## Установка



1. Установите зависимости с помощью `Poetry`:

   ```bash
   poetry install
   ```

2. Активируйте виртуальную среду `Poetry` и запустите FastAPI приложение:

   ```bash
   poetry shell
   uvicorn app.v1.main:app --reload
   ```



## API Методы

### 1. Экспорт данных в файл Excel

**Endpoint:** `POST /export/`
**Описание:** Экспортирует 10 последних записей погодных данных из базы данных в файл `.xlsx` и сохраняет его в директории \public.

**Пример запроса с использованием `curl`:**

```bash
curl -X 'POST' \
  'http://127.0.0.1:8000/export/' \
  -H 'accept: application/json'
```

### 2. Получение последних 10 записей погодных данных

**Endpoint:** `GET /weather/top/`
**Описание:** Возвращает список из последних 10 записей погодных данных из базы данных.

**Пример запроса с использованием `curl`:**

```bash
curl -X 'GET' \
  'http://127.0.0.1:8000/weather/top/' \
  -H 'accept: application/json'
```

### 3. Получение и запись текущей погоды

**Endpoint:** `GET /weather/`
**Описание:** Возвращает полученную от open-meteo api текущую погоду и записывает в базу данных.

**Пример запроса с использованием `curl`:**

```bash
curl -X 'GET' \
  'http://127.0.0.1:8000/weather/' \
  -H 'accept: application/json'
```


